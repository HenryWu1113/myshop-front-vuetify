import{ax as P,T,J as D,ap as F,ay as U,r as g,K as _,z as $,az as j,o as m,c as z,a as r,b as e,w as a,V as y,P as E,S as M,e as i,Z as O,L as v,N as d,O as V,a0 as w,D as u,a1 as A,a2 as J,aA as K,aB as Z,R as h,aC as G,aD as H}from"./index.e98c74e0.js";const Q=c=>(G("data-v-01d6cefc"),c=c(),H(),c),W={id:"product_view",class:"mt-15"},X={class:"MyContainer"},Y={class:"product_title d-flex justify-space-between"},ee={class:"text-brown"},te={class:"product_content mt-10"},se={style:{"white-space":"pre-wrap"},class:"text-h6"},ae={class:"product_price mt-10"},oe={class:"text-deep-orange"},re={class:"product_amount mt-5"},le=h(" \u56DE\u4E0A\u4E00\u9801"),ie=h("\u52A0\u5165\u8CFC\u7269\u8ECA"),ce=Q(()=>r("h1",{class:"text-white"},"\u5DF2\u4E0B\u67B6",-1)),ne={__name:"ProductView",setup(c){const k=T(),f=D(),x=F(),{addCart:b,addLike:S,deleteLike:C}=x,{likes:I}=U(x),p=g(!1),n=g("1"),t=_({_id:"",name:"",price:0,category:"",sell:!1,image:"",description:""}),B=_(["1","2","3","4","5","6","7","8","9","10"]),q=_({required(s){return!!s||"\u8ACB\u9078\u64C7\u6578\u91CF"}}),N=()=>{!p.value||(b({product:t._id,quantity:parseInt(n.value)}),n.value="1")},R=$(()=>I.value.findIndex(s=>s.product.toString()===t._id.toString())>-1);return(async()=>{try{const{data:s}=await E.get("/products/"+k.params.id);t._id=s.result._id,t.name=s.result.name,t.price=s.result.price,t.catagory=s.result.catagory,t.sell=s.result.sell,t.image=s.result.image,t.description=s.result.description}catch{M.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),f.go(-1)}})(),(s,o)=>{const L=j("v-sapcer");return m(),z("div",W,[r("div",X,[e(y,null,{default:a(()=>[e(i,{cols:"12",lg:"7"},{default:a(()=>[e(O,{src:t.image,style:{"border-radius":"40px 5px","box-shadow":"5px 5px 10px #FFE082"},class:"border"},null,8,["src"])]),_:1}),e(i,{cols:"12",lg:"5"},{default:a(()=>[r("div",Y,[r("h1",ee,v(t.name),1),e(L),d(R)?(m(),V(u,{key:0,icon:"",onClick:o[0]||(o[0]=l=>d(C)({product:t._id})),variant:"text",class:"text-red"},{default:a(()=>[e(w,{icon:"mdi-heart",class:"icon"})]),_:1})):(m(),V(u,{key:1,icon:"",onClick:o[1]||(o[1]=l=>d(S)({product:t._id})),variant:"text",class:"text-red"},{default:a(()=>[e(w,{icon:"mdi-heart-outline",class:"icon"})]),_:1}))]),r("div",te,[r("p",se,v(t.description),1)]),r("div",ae,[r("h2",oe,"NT. "+v(t.price),1)]),r("div",re,[e(A,{modelValue:p.value,"onUpdate:modelValue":o[4]||(o[4]=l=>p.value=l),onSubmit:J(N,["prevent"])},{default:a(()=>[e(y,null,{default:a(()=>[e(i,{cols:"4",lg:"4"},{default:a(()=>[e(K,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=l=>n.value=l),items:B,rules:[q.required],variant:"outlined",density:"compact"},null,8,["modelValue","items","rules"])]),_:1}),e(i,{cols:"8"}),e(i,{cols:"6",lg:"4"},{default:a(()=>[e(u,{block:"",color:"brown",variant:"outlined","prepend-icon":"mdi-arrow-left",onClick:o[3]||(o[3]=l=>d(f).go(-1))},{default:a(()=>[le]),_:1})]),_:1}),e(i,{cols:"6",lg:"8"},{default:a(()=>[e(u,{block:"",color:"orange",type:"submit","prepend-icon":"mdi-cart",variant:"outlined"},{default:a(()=>[ie]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])])]),_:1}),e(Z,{class:"align-center justify-center","model-value":!t.sell},{default:a(()=>[ce]),_:1},8,["model-value"])]),_:1})])])}}};var pe=P(ne,[["__scopeId","data-v-01d6cefc"]]);export{pe as default};
