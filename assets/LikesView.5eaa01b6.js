import{ar as M,as as Z,at as G,au as Q,r as F,o as J,A as K,M as ee,a4 as ae,N as X,a as m,c as x,b as P,t as N,Q as y,w as u,P as H,V as te,R as I,F as R,av as se,ac as ie,Z as Y,T as L,O as ne,aw as oe,d as b,a2 as le,ax as re,ab as de,ay as ce,az as fe,H as pe,W as ge,aa as me,aA as ue,f as he,X as ve}from"./index.b772be69.js";function we(v){let{swiper:e,extendParams:d,on:c,emit:g}=v;d({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function o(a){let t;return a&&(t=M(a),e.params.uniqueNavElements&&typeof a=="string"&&t.length>1&&e.$el.find(a).length===1&&(t=e.$el.find(a))),t}function h(a,t){const s=e.params.navigation;a&&a.length>0&&(a[t?"addClass":"removeClass"](s.disabledClass),a[0]&&a[0].tagName==="BUTTON"&&(a[0].disabled=t),e.params.watchOverflow&&e.enabled&&a[e.isLocked?"addClass":"removeClass"](s.lockClass))}function f(){if(e.params.loop)return;const{$nextEl:a,$prevEl:t}=e.navigation;h(t,e.isBeginning&&!e.params.rewind),h(a,e.isEnd&&!e.params.rewind)}function w(a){a.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),g("navigationPrev"))}function l(a){a.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),g("navigationNext"))}function n(){const a=e.params.navigation;if(e.params.navigation=Z(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(a.nextEl||a.prevEl))return;const t=o(a.nextEl),s=o(a.prevEl);t&&t.length>0&&t.on("click",l),s&&s.length>0&&s.on("click",w),Object.assign(e.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:s,prevEl:s&&s[0]}),e.enabled||(t&&t.addClass(a.lockClass),s&&s.addClass(a.lockClass))}function i(){const{$nextEl:a,$prevEl:t}=e.navigation;a&&a.length&&(a.off("click",l),a.removeClass(e.params.navigation.disabledClass)),t&&t.length&&(t.off("click",w),t.removeClass(e.params.navigation.disabledClass))}c("init",()=>{e.params.navigation.enabled===!1?k():(n(),f())}),c("toEdge fromEdge lock unlock",()=>{f()}),c("destroy",()=>{i()}),c("enable disable",()=>{const{$nextEl:a,$prevEl:t}=e.navigation;a&&a[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),t&&t[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),c("click",(a,t)=>{const{$nextEl:s,$prevEl:C}=e.navigation,r=t.target;if(e.params.navigation.hideOnClick&&!M(r).is(C)&&!M(r).is(s)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===r||e.pagination.el.contains(r)))return;let _;s?_=s.hasClass(e.params.navigation.hiddenClass):C&&(_=C.hasClass(e.params.navigation.hiddenClass)),g(_===!0?"navigationShow":"navigationHide"),s&&s.toggleClass(e.params.navigation.hiddenClass),C&&C.toggleClass(e.params.navigation.hiddenClass)}});const E=()=>{e.$el.removeClass(e.params.navigation.navigationDisabledClass),n(),f()},k=()=>{e.$el.addClass(e.params.navigation.navigationDisabledClass),i()};Object.assign(e.navigation,{enable:E,disable:k,update:f,init:n,destroy:i})}function q(v,e,d){const c=`swiper-slide-shadow${d?`-${d}`:""}`,g=v.transformEl?e.find(v.transformEl):e;let o=g.children(`.${c}`);return o.length||(o=M(`<div class="swiper-slide-shadow${d?`-${d}`:""}"></div>`),g.append(o)),o}function Ce(v){let{swiper:e,extendParams:d,on:c}=v;d({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),G({effect:"coverflow",swiper:e,on:c,setTranslate:()=>{const{width:h,height:f,slides:w,slidesSizesGrid:l}=e,n=e.params.coverflowEffect,i=e.isHorizontal(),E=e.translate,k=i?-E+h/2:-E+f/2,a=i?n.rotate:-n.rotate,t=n.depth;for(let s=0,C=w.length;s<C;s+=1){const r=w.eq(s),_=l[s],U=r[0].swiperSlideOffset,j=(k-U-_/2)/_,p=typeof n.modifier=="function"?n.modifier(j):j*n.modifier;let T=i?a*p:0,O=i?0:a*p,B=-t*Math.abs(p),$=n.stretch;typeof $=="string"&&$.indexOf("%")!==-1&&($=parseFloat(n.stretch)/100*_);let z=i?0:$*p,D=i?$*p:0,A=1-(1-n.scale)*Math.abs(p);Math.abs(D)<.001&&(D=0),Math.abs(z)<.001&&(z=0),Math.abs(B)<.001&&(B=0),Math.abs(T)<.001&&(T=0),Math.abs(O)<.001&&(O=0),Math.abs(A)<.001&&(A=0);const W=`translate3d(${D}px,${z}px,${B}px)  rotateX(${O}deg) rotateY(${T}deg) scale(${A})`;if(Q(n,r).transform(W),r[0].style.zIndex=-Math.abs(Math.round(p))+1,n.slideShadows){let V=i?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),S=i?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");V.length===0&&(V=q(n,r,i?"left":"top")),S.length===0&&(S=q(n,r,i?"right":"bottom")),V.length&&(V[0].style.opacity=p>0?p:0),S.length&&(S[0].style.opacity=-p>0?-p:0)}}},setTransition:h=>{const{transformEl:f}=e.params.coverflowEffect;(f?e.slides.find(f):e.slides).transition(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(h)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}var _e="./assets/minionmintw.daa858cd.png",be="./assets/minionminen.12af63fd.png",Ee="./assets/minionminjp.94b00732.png";const ke={id:"likes_view"},$e={class:"text-h2 text-center pt-15 text-brown font-weight-bold","data-aos":"fade-down","data-aos-duration":"1000","data-aos-offset":"150"},xe={class:"ms-3 text-brown"},ye={class:"text-deep-orange"},Ve={key:0,src:_e,class:"animate__animated animate__jello"},Se={key:1,src:be,class:"animate__animated animate__bounce"},Pe={key:2,src:Ee,class:"animate__animated animate__swing"},Te={__name:"LikesView",setup(v){const e=F(!1),d=F(!1);J(()=>{K.init()});const c=ee(),g=ae(),o=X([]),h=X([Ce,se,we]),f=l=>{g.deleteLike({product:o[l].product._id}),o.splice(l,1)};return(async()=>{try{d.value=!0;const{data:l}=await ie.get("/users/likes");o.push(...l.result),e.value=!0,d.value=!1}catch{Y.global.locale==="tw"?L.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6211\u7684\u6536\u85CF"}):Y.global.locale==="en"?L.fire({icon:"error",title:"Failed",text:"Can't get my favorites"}):L.fire({icon:"error",title:"\u5931\u6557",text:"\u304A\u6C17\u306B\u5165\u308A\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093"})}})(),(l,n)=>(m(),x(R,null,[P("div",ke,[P("h1",$e,N(l.$t("myfav")),1),o.length>0?(m(),y(H(ue),{key:0,effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{clickable:!0},breakpoints:{600:{slidesPerView:2},960:{slidesPerView:3},1264:{slidesPerView:4},2200:{slidesPerView:6}},navigation:!0,speed:700,modules:h,class:"mySwiper animate__animated animate__zoomIn"},{default:u(()=>[o.length>0?(m(!0),x(R,{key:0},ne(o,(i,E)=>(m(),y(H(oe),{key:i._id},{default:u(()=>[b(me,{variant:"outlined",color:"brown-lighten-4"},{default:u(()=>[b(le,{height:"400",src:i.product.image,onClick:k=>H(c).push(`/product/${i.product._id}`),style:{cursor:"pointer"}},null,8,["src","onClick"]),b(re,null,{default:u(()=>[P("h2",xe,N(i.product.name),1)]),_:2},1024),b(de,null,{default:u(()=>[b(ce,null,{default:u(()=>[P("h2",ye,"NT. "+N(i.product.price),1)]),_:2},1024)]),_:2},1024),b(fe,null,{default:u(()=>[b(pe,{color:"orange",onClick:k=>f(E),"prepend-icon":"mdi-delete",block:""},{default:u(()=>[ge(N(l.$t("deletelike")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):I("",!0)]),_:1},8,["modules"])):(m(),y(te,{key:1},{default:u(()=>[e.value?(m(),y(he,{key:0,cols:"12",class:"text-center mt-15 no_like_img"},{default:u(()=>[l.$i18n.locale==="tw"?(m(),x("img",Ve)):l.$i18n.locale==="en"?(m(),x("img",Se)):(m(),x("img",Pe))]),_:1})):I("",!0)]),_:1}))]),d.value?(m(),y(ve,{key:0})):I("",!0)],64))}};export{Te as default};
