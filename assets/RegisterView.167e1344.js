import{ap as b,J as y,r as m,K as f,o as k,O as C,w as l,a2 as S,a1 as R,b as a,at as U,a4 as A,au as B,V as I,e as i,aF as u,a as _,D as V,av as T,Q as z,a3 as F,R as g,P as N,S as v,ay as $,az as E}from"./index.4b7b983c.js";import{_ as Z}from"./Logo.567c4b90.js";import{v as j}from"./index.882724bf.js";const w=n=>($("data-v-046e1b31"),n=n(),E(),n),D=w(()=>_("img",{class:"register-logo",src:Z},null,-1)),J=w(()=>_("p",{class:"text-h4"},"\u8A3B\u518A",-1)),K={class:"d-flex justify-center"},M=g(" \u8A3B\u518A "),O=g("\u524D\u5F80\u767B\u5165\u9801\u9762"),P={__name:"RegisterView",setup(n){const x=y(),r=m(!1),c=m(!1),p=m(!1),s=f({account:"",password:"",nickname:"",email:""}),d=f({account:[e=>!!e||"\u5E33\u865F\u5FC5\u586B",e=>e.length>=4&&e.length<=20||"\u5E33\u865F\u9577\u5EA6\u70BA 4 \u5230 20 \u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5E33\u865F\u53EA\u80FD\u7531\u82F1\u6578\u5B57\u7D44\u6210"],password:[e=>!!e||"\u5BC6\u78BC\u5FC5\u586B",e=>e.length>=4&&e.length<=20||"\u5BC6\u78BC\u9577\u5EA6\u70BA 4 \u5230 20 \u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5BC6\u78BC\u53EA\u80FD\u7531\u82F1\u6578\u5B57\u7D44\u6210"],nickname:[e=>!!e||"\u66B1\u7A31\u5FC5\u586B",e=>e&&e.length<=10||"\u66B1\u7A31\u9577\u5EA6\u4E0D\u5F97\u8D85\u904E 10 \u500B\u5B57"],email:[e=>!!e||"\u96FB\u5B50\u4FE1\u7BB1\u5FC5\u586B",e=>j.exports.isEmail(e)||"\u96FB\u5B50\u4FE1\u7BB1\u683C\u5F0F\u932F\u8AA4"]}),h=async()=>{if(!!c.value){p.value=!0;try{await N.post("/users",s),await v.fire({icon:"success",title:"\u6210\u529F",text:"\u8A3B\u518A\u6210\u529F"}),x.push("/")}catch(e){v.fire({icon:"error",title:"\u5931\u6557",text:e.isAxiosError&&e.response.data?e.response.data.message:"\u767C\u751F\u932F\u8AA4"})}p.value=!1}};return(e,t)=>(k(),C(R,{modelValue:c.value,"onUpdate:modelValue":t[5]||(t[5]=o=>c.value=o),onSubmit:S(h,["prevent"])},{default:l(()=>[a(F,{class:"ma-auto","max-width":"800"},{default:l(()=>[a(U,{class:"text-center mt-5"},{default:l(()=>[D,J]),_:1}),a(A,null,{default:l(()=>[a(B,null,{default:l(()=>[a(I,null,{default:l(()=>[a(i,{cols:"12"},{default:l(()=>[a(u,{type:"account",label:"\u5E33\u865F",placeholder:"\u8ACB\u8F38\u5165\u5E33\u865F",counter:"20",maxlength:"20",modelValue:s.account,"onUpdate:modelValue":t[0]||(t[0]=o=>s.account=o),rules:d.account,clearable:"","clear-icon":"mdi-delete","append-icon":"mdi-account-outline",variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(u,{type:r.value?"text":"password",label:"\u5BC6\u78BC",placeholder:"\u8ACB\u8F38\u5165\u5E33\u865F",counter:"20",maxlength:"20",modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=o=>s.password=o),rules:d.password,clearable:"","clear-icon":"mdi-delete","append-icon":r.value?"mdi-eye":"mdi-eye-off","onClick:append":t[2]||(t[2]=o=>r.value=!r.value),variant:"outlined"},null,8,["type","modelValue","rules","append-icon"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(u,{label:"\u66B1\u7A31",placeholder:"\u8ACB\u8F38\u5165\u66B1\u7A31",counter:"10",maxlength:"10",modelValue:s.nickname,"onUpdate:modelValue":t[3]||(t[3]=o=>s.nickname=o),rules:d.nickname,clearable:"","clear-icon":"mdi-delete","append-icon":"mdi-emoticon-happy-outline",variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(u,{type:"email",label:"\u96FB\u5B50\u4FE1\u7BB1",placeholder:"\u8ACB\u8F38\u5165\u96FB\u5B50\u4FE1\u7BB1",modelValue:s.email,"onUpdate:modelValue":t[4]||(t[4]=o=>s.email=o),rules:d.email,clearable:"","clear-icon":"mdi-delete","append-icon":"mdi-email-outline",variant:"outlined"},null,8,["modelValue","rules"])]),_:1})]),_:1}),_("div",K,[a(V,{color:"success",variant:"flat",type:"submit",loading:p.value},{default:l(()=>[M]),_:1},8,["loading"])])]),_:1})]),_:1}),a(T,null,{default:l(()=>[a(z),a(V,{color:"blue darken-3",to:"/login"},{default:l(()=>[O]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"]))}};var H=b(P,[["__scopeId","data-v-046e1b31"]]);export{H as default};
