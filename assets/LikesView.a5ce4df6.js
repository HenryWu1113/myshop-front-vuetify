import{am as V,an as X,ao as Y,ap as j,M as G,aq as Q,N as L,a as k,c as D,b as z,t as S,Q as q,w as u,P as H,ar as R,a7 as W,S as Z,F as J,O as K,as as ee,d as E,$ as te,at as ae,a6 as se,au as ie,av as ne,H as oe,U as le,a5 as re,aw as de,ax as ce}from"./index.c80d3659.js";function fe(m){let{swiper:e,extendParams:c,on:o,emit:f}=m;c({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function p(t){let a;return t&&(a=V(t),e.params.uniqueNavElements&&typeof t=="string"&&a.length>1&&e.$el.find(t).length===1&&(a=e.$el.find(t))),a}function h(t,a){const s=e.params.navigation;t&&t.length>0&&(t[a?"addClass":"removeClass"](s.disabledClass),t[0]&&t[0].tagName==="BUTTON"&&(t[0].disabled=a),e.params.watchOverflow&&e.enabled&&t[e.isLocked?"addClass":"removeClass"](s.lockClass))}function n(){if(e.params.loop)return;const{$nextEl:t,$prevEl:a}=e.navigation;h(a,e.isBeginning&&!e.params.rewind),h(t,e.isEnd&&!e.params.rewind)}function v(t){t.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),f("navigationPrev"))}function g(t){t.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),f("navigationNext"))}function i(){const t=e.params.navigation;if(e.params.navigation=X(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(t.nextEl||t.prevEl))return;const a=p(t.nextEl),s=p(t.prevEl);a&&a.length>0&&a.on("click",g),s&&s.length>0&&s.on("click",v),Object.assign(e.navigation,{$nextEl:a,nextEl:a&&a[0],$prevEl:s,prevEl:s&&s[0]}),e.enabled||(a&&a.addClass(t.lockClass),s&&s.addClass(t.lockClass))}function l(){const{$nextEl:t,$prevEl:a}=e.navigation;t&&t.length&&(t.off("click",g),t.removeClass(e.params.navigation.disabledClass)),a&&a.length&&(a.off("click",v),a.removeClass(e.params.navigation.disabledClass))}o("init",()=>{e.params.navigation.enabled===!1?x():(i(),n())}),o("toEdge fromEdge lock unlock",()=>{n()}),o("destroy",()=>{l()}),o("enable disable",()=>{const{$nextEl:t,$prevEl:a}=e.navigation;t&&t[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),a&&a[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),o("click",(t,a)=>{const{$nextEl:s,$prevEl:w}=e.navigation,r=a.target;if(e.params.navigation.hideOnClick&&!V(r).is(w)&&!V(r).is(s)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===r||e.pagination.el.contains(r)))return;let C;s?C=s.hasClass(e.params.navigation.hiddenClass):w&&(C=w.hasClass(e.params.navigation.hiddenClass)),f(C===!0?"navigationShow":"navigationHide"),s&&s.toggleClass(e.params.navigation.hiddenClass),w&&w.toggleClass(e.params.navigation.hiddenClass)}});const $=()=>{e.$el.removeClass(e.params.navigation.navigationDisabledClass),i(),n()},x=()=>{e.$el.addClass(e.params.navigation.navigationDisabledClass),l()};Object.assign(e.navigation,{enable:$,disable:x,update:n,init:i,destroy:l})}function A(m,e,c){const o=`swiper-slide-shadow${c?`-${c}`:""}`,f=m.transformEl?e.find(m.transformEl):e;let p=f.children(`.${o}`);return p.length||(p=V(`<div class="swiper-slide-shadow${c?`-${c}`:""}"></div>`),f.append(p)),p}function pe(m){let{swiper:e,extendParams:c,on:o}=m;c({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),Y({effect:"coverflow",swiper:e,on:o,setTranslate:()=>{const{width:h,height:n,slides:v,slidesSizesGrid:g}=e,i=e.params.coverflowEffect,l=e.isHorizontal(),$=e.translate,x=l?-$+h/2:-$+n/2,t=l?i.rotate:-i.rotate,a=i.depth;for(let s=0,w=v.length;s<w;s+=1){const r=v.eq(s),C=g[s],F=r[0].swiperSlideOffset,I=(x-F-C/2)/C,d=typeof i.modifier=="function"?i.modifier(I):I*i.modifier;let P=l?t*d:0,N=l?0:t*d,M=-a*Math.abs(d),b=i.stretch;typeof b=="string"&&b.indexOf("%")!==-1&&(b=parseFloat(i.stretch)/100*C);let T=l?0:b*d,O=l?b*d:0,B=1-(1-i.scale)*Math.abs(d);Math.abs(O)<.001&&(O=0),Math.abs(T)<.001&&(T=0),Math.abs(M)<.001&&(M=0),Math.abs(P)<.001&&(P=0),Math.abs(N)<.001&&(N=0),Math.abs(B)<.001&&(B=0);const U=`translate3d(${O}px,${T}px,${M}px)  rotateX(${N}deg) rotateY(${P}deg) scale(${B})`;if(j(i,r).transform(U),r[0].style.zIndex=-Math.abs(Math.round(d))+1,i.slideShadows){let _=l?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),y=l?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");_.length===0&&(_=A(i,r,l?"left":"top")),y.length===0&&(y=A(i,r,l?"right":"bottom")),_.length&&(_[0].style.opacity=d>0?d:0),y.length&&(y[0].style.opacity=-d>0?-d:0)}}},setTransition:h=>{const{transformEl:n}=e.params.coverflowEffect;(n?e.slides.find(n):e.slides).transition(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(h)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const ge={id:"likes_view"},he={class:"text-h2 text-center pt-15 text-brown font-weight-bold"},ue={class:"ms-3 text-brown"},me={class:"text-deep-orange"},ve={key:1,class:"text-h1 text-center mt-10"},Ee={__name:"LikesView",setup(m){const e=G(),c=Q(),o=L([]),f=L([pe,R,fe]),p=n=>{c.deleteLike({product:o[n].product._id}),o.splice(n,1)};return(async()=>{try{const{data:n}=await W.get("/users/likes");o.push(...n.result),console.log(o)}catch{Z.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6211\u7684\u6536\u85CF"})}})(),(n,v)=>(k(),D("div",ge,[z("h1",he,S(n.$t("myfav")),1),o.length>0?(k(),q(H(ce),{key:0,effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{clickable:!0},breakpoints:{600:{slidesPerView:2},960:{slidesPerView:3},1264:{slidesPerView:4},2200:{slidesPerView:6}},navigation:!0,speed:700,modules:f,class:"mySwiper animate__animated animate__zoomIn"},{default:u(()=>[o.length>0?(k(!0),D(J,{key:0},K(o,(g,i)=>(k(),q(H(ee),{key:g._id},{default:u(()=>[E(re,{variant:"outlined",color:"brown-lighten-4"},{default:u(()=>[E(te,{src:g.product.image,onClick:l=>H(e).push(`/product/${g.product._id}`),style:{cursor:"pointer"}},null,8,["src","onClick"]),E(ae,null,{default:u(()=>[z("h2",ue,S(g.product.name),1)]),_:2},1024),E(se,null,{default:u(()=>[E(ie,null,{default:u(()=>[z("h2",me,"NT. "+S(g.product.price),1)]),_:2},1024)]),_:2},1024),E(ne,null,{default:u(()=>[E(oe,{color:"orange",onClick:l=>p(i),"prepend-icon":"mdi-delete",block:""},{default:u(()=>[le(S(n.$t("deletelike")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):de("",!0)]),_:1},8,["modules"])):(k(),D("h1",ve,"\u6C92\u6709\u6536\u85CF\u54E6!!!"))]))}};export{Ee as default};
