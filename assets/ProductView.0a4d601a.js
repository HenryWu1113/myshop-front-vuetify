import{aA as T,r as m,Y as D,M as E,a3 as M,a4 as U,N as y,C as j,aB as z,a as d,c as A,b as l,d as e,w as s,V as h,Q as v,R as b,F as H,S as O,T as Q,f as i,a1 as W,t as n,P as c,a6 as C,H as u,a7 as X,a8 as Y,aC as G,W as V,aD as J,X as K,aE as Z,aF as ee}from"./index.7f18be1d.js";const te=p=>(Z("data-v-e561ffc0"),p=p(),ee(),p),ae={id:"product_view",class:"mt-15 animate__animated animate__zoomInDown"},se={class:"MyContainer"},oe={class:"product_title d-flex justify-space-between"},le={class:"text-brown"},re={class:"product_content mt-10"},ie={style:{"white-space":"pre-wrap"},class:"text-h6"},ne={class:"product_price mt-10"},de={class:"text-deep-orange"},ce={class:"product_amount mt-5"},ue=te(()=>l("h1",{class:"text-white"},"\u5DF2\u4E0B\u67B6",-1)),pe={__name:"ProductView",setup(p){const x=m(!1),f=m(!1),S=D(),g=E(),k=M(),{addCart:I,addLike:$,deleteLike:B}=k,{likes:F}=U(k),w=m(!1),_=m("1"),t=y({_id:"",name:"",price:0,category:"",sell:!1,image:"",description:""}),N=y(["1","2","3","4","5","6","7","8","9","10"]),q=y({required(a){return!!a||"\u8ACB\u9078\u64C7\u6578\u91CF"}}),R=()=>{!w.value||(I({product:t._id,quantity:parseInt(_.value)}),_.value="1")},L=j(()=>F.value.findIndex(a=>a.product.toString()===t._id.toString())>-1);return(async()=>{try{f.value=!0;const{data:a}=await O.get("/products/"+S.params.id);t._id=a.result._id,t.name=a.result.name,t.price=a.result.price,t.catagory=a.result.catagory,t.sell=a.result.sell,t.image=a.result.image,t.description=a.result.description,f.value=!1,x.value=!0}catch{Q.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),g.go(-1)}})(),(a,o)=>{const P=z("v-sapcer");return d(),A(H,null,[l("div",ae,[l("div",se,[e(h,null,{default:s(()=>[e(i,{cols:"12",lg:"7"},{default:s(()=>[e(W,{src:t.image,style:{"border-radius":"40px 5px","box-shadow":"5px 5px 10px #FFE082"},class:"border"},null,8,["src"])]),_:1}),e(i,{cols:"12",lg:"5"},{default:s(()=>[l("div",oe,[l("h1",le,n(t.name),1),e(P),c(L)?(d(),v(u,{key:0,icon:"",onClick:o[0]||(o[0]=r=>c(B)({product:t._id})),variant:"text",class:"text-red"},{default:s(()=>[e(C,{icon:"mdi-heart",class:"icon"})]),_:1})):(d(),v(u,{key:1,icon:"",onClick:o[1]||(o[1]=r=>c($)({product:t._id})),variant:"text",class:"text-red"},{default:s(()=>[e(C,{icon:"mdi-heart-outline",class:"icon"})]),_:1}))]),l("div",re,[l("p",ie,n(t.description),1)]),l("div",ne,[l("h2",de,"NT. "+n(t.price),1)]),l("div",ce,[e(X,{modelValue:w.value,"onUpdate:modelValue":o[4]||(o[4]=r=>w.value=r),onSubmit:Y(R,["prevent"])},{default:s(()=>[e(h,null,{default:s(()=>[e(i,{cols:"4",lg:"4"},{default:s(()=>[e(G,{modelValue:_.value,"onUpdate:modelValue":o[2]||(o[2]=r=>_.value=r),items:N,rules:[q.required],variant:"outlined",density:"compact"},null,8,["modelValue","items","rules"])]),_:1}),e(i,{cols:"8"}),e(i,{cols:"6",lg:"4"},{default:s(()=>[e(u,{block:"",color:"brown",variant:"outlined","prepend-icon":"mdi-arrow-left",onClick:o[3]||(o[3]=r=>c(g).go(-1))},{default:s(()=>[V(n(a.$t("back")),1)]),_:1})]),_:1}),e(i,{cols:"6",lg:"8"},{default:s(()=>[e(u,{block:"",color:"orange",type:"submit","prepend-icon":"mdi-cart",variant:"outlined"},{default:s(()=>[V(n(a.$t("addcart")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])])]),_:1}),x.value?(d(),v(J,{key:0,class:"align-center justify-center","model-value":!t.sell},{default:s(()=>[ue,e(u,{variant:"outlined",color:"white",block:"",onClick:o[5]||(o[5]=r=>c(g).push("/"))},{default:s(()=>[V(n(a.$t("gohome")),1)]),_:1})]),_:1},8,["model-value"])):b("",!0)]),_:1})])]),f.value?(d(),v(K,{key:0})):b("",!0)],64)}}};var ve=T(pe,[["__scopeId","data-v-e561ffc0"]]);export{ve as default};
