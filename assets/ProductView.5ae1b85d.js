import{ay as U,W as $,M as D,aq as E,az as F,r as x,N as p,C as L,aA as M,a as m,c as T,b as r,d as e,w as a,V as y,R as j,S as z,f as l,$ as A,t as v,P as c,Q as V,a2 as w,H as u,a3 as H,a4 as O,aB as Q,aC as W,U as h,aD as G,aE as J}from"./index.c80d3659.js";const K=n=>(G("data-v-6488f58a"),n=n(),J(),n),X={id:"product_view",class:"mt-15 animate__animated animate__zoomInDown"},Y={class:"MyContainer"},Z={class:"product_title d-flex justify-space-between"},ee={class:"text-brown"},te={class:"product_content mt-10"},se={style:{"white-space":"pre-wrap"},class:"text-h6"},ae={class:"product_price mt-10"},oe={class:"text-deep-orange"},re={class:"product_amount mt-5"},ie=h(" \u56DE\u4E0A\u4E00\u9801"),le=h("\u52A0\u5165\u8CFC\u7269\u8ECA"),ne=K(()=>r("h1",{class:"text-white"},"\u5DF2\u4E0B\u67B6",-1)),de={__name:"ProductView",setup(n){const k=$(),f=D(),g=E(),{addCart:b,addLike:S,deleteLike:C}=g,{likes:I}=F(g),_=x(!1),d=x("1"),t=p({_id:"",name:"",price:0,category:"",sell:!1,image:"",description:""}),q=p(["1","2","3","4","5","6","7","8","9","10"]),B=p({required(s){return!!s||"\u8ACB\u9078\u64C7\u6578\u91CF"}}),N=()=>{!_.value||(b({product:t._id,quantity:parseInt(d.value)}),d.value="1")},R=L(()=>I.value.findIndex(s=>s.product.toString()===t._id.toString())>-1);return(async()=>{try{const{data:s}=await j.get("/products/"+k.params.id);t._id=s.result._id,t.name=s.result.name,t.price=s.result.price,t.catagory=s.result.catagory,t.sell=s.result.sell,t.image=s.result.image,t.description=s.result.description}catch{z.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),f.go(-1)}})(),(s,o)=>{const P=M("v-sapcer");return m(),T("div",X,[r("div",Y,[e(y,null,{default:a(()=>[e(l,{cols:"12",lg:"7"},{default:a(()=>[e(A,{src:t.image,style:{"border-radius":"40px 5px","box-shadow":"5px 5px 10px #FFE082"},class:"border"},null,8,["src"])]),_:1}),e(l,{cols:"12",lg:"5"},{default:a(()=>[r("div",Z,[r("h1",ee,v(t.name),1),e(P),c(R)?(m(),V(u,{key:0,icon:"",onClick:o[0]||(o[0]=i=>c(C)({product:t._id})),variant:"text",class:"text-red"},{default:a(()=>[e(w,{icon:"mdi-heart",class:"icon"})]),_:1})):(m(),V(u,{key:1,icon:"",onClick:o[1]||(o[1]=i=>c(S)({product:t._id})),variant:"text",class:"text-red"},{default:a(()=>[e(w,{icon:"mdi-heart-outline",class:"icon"})]),_:1}))]),r("div",te,[r("p",se,v(t.description),1)]),r("div",ae,[r("h2",oe,"NT. "+v(t.price),1)]),r("div",re,[e(H,{modelValue:_.value,"onUpdate:modelValue":o[4]||(o[4]=i=>_.value=i),onSubmit:O(N,["prevent"])},{default:a(()=>[e(y,null,{default:a(()=>[e(l,{cols:"4",lg:"4"},{default:a(()=>[e(Q,{modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=i=>d.value=i),items:q,rules:[B.required],variant:"outlined",density:"compact"},null,8,["modelValue","items","rules"])]),_:1}),e(l,{cols:"8"}),e(l,{cols:"6",lg:"4"},{default:a(()=>[e(u,{block:"",color:"brown",variant:"outlined","prepend-icon":"mdi-arrow-left",onClick:o[3]||(o[3]=i=>c(f).go(-1))},{default:a(()=>[ie]),_:1})]),_:1}),e(l,{cols:"6",lg:"8"},{default:a(()=>[e(u,{block:"",color:"orange",type:"submit","prepend-icon":"mdi-cart",variant:"outlined"},{default:a(()=>[le]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])])]),_:1}),e(W,{class:"align-center justify-center","model-value":!t.sell},{default:a(()=>[ne]),_:1},8,["model-value"])]),_:1})])])}}};var _e=U(de,[["__scopeId","data-v-6488f58a"]]);export{_e as default};
