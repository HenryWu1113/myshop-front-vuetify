import{az as P,r as f,Y as U,M as D,as as E,aA as M,N as g,C as T,aB as j,a as _,c as z,b as r,d as e,w as s,V as b,R as A,S as H,f as i,a1 as O,t as n,P as d,Q as w,a4 as k,H as c,a5 as Q,a6 as W,aC as X,W as V,aD as Y,U as G,X as J,aE as K,aF as Z}from"./index.c5412de4.js";const ee=u=>(K("data-v-06923b64"),u=u(),Z(),u),te={id:"product_view",class:"mt-15 animate__animated animate__zoomInDown"},ae={class:"MyContainer"},se={class:"product_title d-flex justify-space-between"},oe={class:"text-brown"},re={class:"product_content mt-10"},le={style:{"white-space":"pre-wrap"},class:"text-h6"},ie={class:"product_price mt-10"},ne={class:"text-deep-orange"},de={class:"product_amount mt-5"},ce=ee(()=>r("h1",{class:"text-white"},"\u5DF2\u4E0B\u67B6",-1)),ue={__name:"ProductView",setup(u){const h=J(),y=f(!1),C=U(),m=D(),x=E(),{addCart:S,addLike:I,deleteLike:$}=x,{likes:B}=M(x),v=f(!1),p=f("1"),t=g({_id:"",name:"",price:0,category:"",sell:!1,image:"",description:""}),N=g(["1","2","3","4","5","6","7","8","9","10"]),q=g({required(a){return!!a||"\u8ACB\u9078\u64C7\u6578\u91CF"}}),R=()=>{!v.value||(S({product:t._id,quantity:parseInt(p.value)}),p.value="1")},F=T(()=>B.value.findIndex(a=>a.product.toString()===t._id.toString())>-1);return(async()=>{try{h.show({color:"orange",loader:"bars",width:100,height:100});const{data:a}=await A.get("/products/"+C.params.id);t._id=a.result._id,t.name=a.result.name,t.price=a.result.price,t.catagory=a.result.catagory,t.sell=a.result.sell,t.image=a.result.image,t.description=a.result.description,h.hide(),y.value=!0}catch{H.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),m.go(-1)}})(),(a,o)=>{const L=j("v-sapcer");return _(),z("div",te,[r("div",ae,[e(b,null,{default:s(()=>[e(i,{cols:"12",lg:"7"},{default:s(()=>[e(O,{src:t.image,style:{"border-radius":"40px 5px","box-shadow":"5px 5px 10px #FFE082"},class:"border"},null,8,["src"])]),_:1}),e(i,{cols:"12",lg:"5"},{default:s(()=>[r("div",se,[r("h1",oe,n(t.name),1),e(L),d(F)?(_(),w(c,{key:0,icon:"",onClick:o[0]||(o[0]=l=>d($)({product:t._id})),variant:"text",class:"text-red"},{default:s(()=>[e(k,{icon:"mdi-heart",class:"icon"})]),_:1})):(_(),w(c,{key:1,icon:"",onClick:o[1]||(o[1]=l=>d(I)({product:t._id})),variant:"text",class:"text-red"},{default:s(()=>[e(k,{icon:"mdi-heart-outline",class:"icon"})]),_:1}))]),r("div",re,[r("p",le,n(t.description),1)]),r("div",ie,[r("h2",ne,"NT. "+n(t.price),1)]),r("div",de,[e(Q,{modelValue:v.value,"onUpdate:modelValue":o[4]||(o[4]=l=>v.value=l),onSubmit:W(R,["prevent"])},{default:s(()=>[e(b,null,{default:s(()=>[e(i,{cols:"4",lg:"4"},{default:s(()=>[e(X,{modelValue:p.value,"onUpdate:modelValue":o[2]||(o[2]=l=>p.value=l),items:N,rules:[q.required],variant:"outlined",density:"compact"},null,8,["modelValue","items","rules"])]),_:1}),e(i,{cols:"8"}),e(i,{cols:"6",lg:"4"},{default:s(()=>[e(c,{block:"",color:"brown",variant:"outlined","prepend-icon":"mdi-arrow-left",onClick:o[3]||(o[3]=l=>d(m).go(-1))},{default:s(()=>[V(n(a.$t("back")),1)]),_:1})]),_:1}),e(i,{cols:"6",lg:"8"},{default:s(()=>[e(c,{block:"",color:"orange",type:"submit","prepend-icon":"mdi-cart",variant:"outlined"},{default:s(()=>[V(n(a.$t("addcart")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])])]),_:1}),y.value?(_(),w(Y,{key:0,class:"align-center justify-center","model-value":!t.sell},{default:s(()=>[ce,e(c,{variant:"outlined",color:"white",block:"",onClick:o[5]||(o[5]=l=>d(m).push("/"))},{default:s(()=>[V(n(a.$t("gohome")),1)]),_:1})]),_:1},8,["model-value"])):G("",!0)]),_:1})])])}}};var me=P(ue,[["__scopeId","data-v-06923b64"]]);export{me as default};
